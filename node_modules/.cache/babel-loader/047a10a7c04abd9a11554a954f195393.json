{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button,Form}from\"semantic-ui-react\";import{NavLink}from\"react-router-dom\";import NavBar from\"../NavBar/NavBar\";import axios from\"axios\";import history from\"../history\";import\"./Image.css\";import Spinner from\"../Spinner/Spinner\";var UploadImage=/*#__PURE__*/function(_Component){_inherits(UploadImage,_Component);var _super=_createSuper(UploadImage);function UploadImage(){var _this;_classCallCheck(this,UploadImage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={image1:null,image2:null,image3:null,form:0,error:null};_this.postAttendance=function(e){e.preventDefault();_this.setState({form:1});var form_data=new FormData();form_data.append(\"image1\",_this.state.image1);form_data.append(\"image2\",_this.state.image2);form_data.append(\"image3\",_this.state.image3);var url=\"http://127.0.0.1:5000/attendance\";axios.post(url,form_data,{headers:{\"content-type\":\"multipart/form-data\"}}).then(function(res){if(res.status===200){history.push(\"/getinfo\");}}).catch(function(err){_this.setState({error:1});});};return _this;}_createClass(UploadImage,[{key:\"render\",value:function render(){var _this2=this;if(!localStorage.getItem(\"token\")){history.push(\"/\");}if(this.state.error!==null){history.push(\"/attendance\");}return/*#__PURE__*/React.createElement(\"div\",{style:{height:\"115vh\"},className:\"BgImage\"},/*#__PURE__*/React.createElement(NavBar,null),this.state.form===0?/*#__PURE__*/React.createElement(Form,{style:{position:\"absolute\",left:\"50%\",top:\"60%\",width:\"60vh\",transform:\"translate(-50%,-50%)\",border:\"1px solid black\",padding:\"1em\",borderRadius:\"1em\",boxShadow:\"2px 2px 2px 2px black\",backgroundColor:\"white\"}},/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Upload Image1\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/png,image/jpeg,image/jpg\",onChange:function onChange(e){return _this2.setState({image1:e.target.files[0]});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Upload Image2\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/png,image/jpeg,image/jpg\",onChange:function onChange(e){return _this2.setState({image2:e.target.files[0]});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Upload Image3\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/png,image/jpeg,image/jpg\",onChange:function onChange(e){return _this2.setState({image3:e.target.files[0]});}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",onClick:this.postAttendance,id:\"Btn\"},\"Submit\")):/*#__PURE__*/React.createElement(Spinner,null));}}]);return UploadImage;}(Component);export default UploadImage;","map":{"version":3,"sources":["C:/Users/Samyukta/Desktop/Samyukta/sem_5/attendance/src/Attendance/UploadImage.js"],"names":["React","Component","Button","Form","NavLink","NavBar","axios","history","Spinner","UploadImage","state","image1","image2","image3","form","error","postAttendance","e","preventDefault","setState","form_data","FormData","append","url","post","headers","then","res","status","push","catch","err","localStorage","getItem","height","position","left","top","width","transform","border","padding","borderRadius","boxShadow","backgroundColor","target","files"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Form } from \"semantic-ui-react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\nimport axios from \"axios\";\r\nimport history from \"../history\";\r\nimport \"./Image.css\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\n\r\nclass UploadImage extends Component {\r\n  state = {\r\n    image1: null,\r\n    image2: null,\r\n    image3: null,\r\n    form: 0,\r\n    error: null,\r\n  };\r\n  postAttendance = (e) => {\r\n    e.preventDefault();\r\n    this.setState({ form: 1 });\r\n    let form_data = new FormData();\r\n    form_data.append(\"image1\", this.state.image1);\r\n    form_data.append(\"image2\", this.state.image2);\r\n    form_data.append(\"image3\", this.state.image3);\r\n\r\n    let url = \"http://127.0.0.1:5000/attendance\";\r\n\r\n    axios\r\n      .post(url, form_data, {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          history.push(\"/getinfo\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ error: 1 });\r\n      });\r\n  };\r\n  render() {\r\n    if (!localStorage.getItem(\"token\")) {\r\n      history.push(\"/\");\r\n    }\r\n    if (this.state.error !== null) {\r\n      history.push(\"/attendance\");\r\n    }\r\n    return (\r\n      <div\r\n        style={{\r\n          height: \"115vh\",\r\n        }}\r\n        className=\"BgImage\"\r\n      >\r\n        <NavBar />\r\n        {this.state.form === 0 ? (\r\n          <Form\r\n            style={{\r\n              position: \"absolute\",\r\n              left: \"50%\",\r\n              top: \"60%\",\r\n              width: \"60vh\",\r\n              transform: \"translate(-50%,-50%)\",\r\n              border: \"1px solid black\",\r\n              padding: \"1em\",\r\n              borderRadius: \"1em\",\r\n              boxShadow: \"2px 2px 2px 2px black\",\r\n              backgroundColor: \"white\",\r\n            }}\r\n          >\r\n            <Form.Field>\r\n              <label>Upload Image1</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/png,image/jpeg,image/jpg\"\r\n                onChange={(e) => this.setState({ image1: e.target.files[0] })}\r\n              />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <label>Upload Image2</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/png,image/jpeg,image/jpg\"\r\n                onChange={(e) => this.setState({ image2: e.target.files[0] })}\r\n              />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <label>Upload Image3</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/png,image/jpeg,image/jpg\"\r\n                onChange={(e) => this.setState({ image3: e.target.files[0] })}\r\n              />\r\n            </Form.Field>\r\n\r\n            <Button type=\"submit\" onClick={this.postAttendance} id=\"Btn\">\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        ) : (\r\n          <Spinner />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UploadImage;\r\n"]},"metadata":{},"sourceType":"module"}