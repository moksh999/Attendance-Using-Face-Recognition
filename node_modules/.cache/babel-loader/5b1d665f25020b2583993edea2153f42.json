{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Samyukta\\\\Desktop\\\\Samyukta\\\\sem_5\\\\attendance\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import{Button,Form}from\"semantic-ui-react\";import{NavLink}from\"react-router-dom\";import NavBar from\"../NavBar/NavBar\";import history from\"../history\";import image1 from\"../Images/1.jpeg\";import\"./Image.css\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\",error:null};_this.login=function(){if(localStorage.getItem(\"token\")){localStorage.removeItem(\"token\");history.push(\"/\");}else{var data={email:_this.state.email,password:_this.state.password};axios.post(\"http://127.0.0.1:5000/login\",data).then(function(res){if(res.status===200){localStorage.setItem(\"token\",res.data.token);history.push(\"/attendance\");}else if(res.status===404){_this.setState({error:\"Invalid email or password\"});}else{_this.setState({error:\"Email doesnt exists\"});}}).catch(function(err){if(err.request.status===404){_this.setState({error:\"Invalid email or password\"});}else if(err.request.status===400){_this.setState({error:\"Email doesnt exists\"});}});}};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{style:{boxShadow:\"2px solid black\",height:\"100vh\"},className:\"BgImage\"},/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(Form,{style:{position:\"absolute\",left:\"50%\",top:\"50%\",width:\"60vh\",transform:\"translate(-50%,-50%)\",border:\"1px solid black\",padding:\"1em\",borderRadius:\"1em\",boxShadow:\"2px 2px 2px 2px black\",backgroundColor:\"white\"}},/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Email\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}})),/*#__PURE__*/React.createElement(Form.Field,null,/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Password\",type:\"password\",onChange:function onChange(e){return _this2.setState({password:e.target.value});}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",onClick:this.login,id:\"Btn\"},localStorage.getItem(\"token\")?/*#__PURE__*/React.createElement(\"span\",null,\"Logout\"):/*#__PURE__*/React.createElement(\"span\",null,\"Login\")),/*#__PURE__*/React.createElement(\"br\",null),this.state.error!==null?/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},this.state.error):null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(NavLink,{style:{textDecoration:\"none\",listStyle:\"none\",color:\"black\"},to:\"/register\"},\"Dont Have An Account? Sign In\"))));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["C:/Users/Samyukta/Desktop/Samyukta/sem_5/attendance/src/Registration/Login.js"],"names":["React","axios","Button","Form","NavLink","NavBar","history","image1","Login","state","email","password","error","login","localStorage","getItem","removeItem","push","data","post","then","res","status","setItem","token","setState","catch","err","request","boxShadow","height","position","left","top","width","transform","border","padding","borderRadius","backgroundColor","e","target","value","color","textDecoration","listStyle","Component"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,IAAjB,KAA6B,mBAA7B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAO,aAAP,C,GAEMC,CAAAA,K,mUACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,QAAQ,CAAE,EAFJ,CAGNC,KAAK,CAAE,IAHD,C,OAMRC,K,CAAQ,UAAM,CACZ,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,CAAmC,CACjCD,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACAV,OAAO,CAACW,IAAR,CAAa,GAAb,EACD,CAHD,IAGO,CACL,GAAMC,CAAAA,IAAI,CAAG,CACXR,KAAK,CAAE,MAAKD,KAAL,CAAWC,KADP,CAEXC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QAFV,CAAb,CAKAV,KAAK,CACFkB,IADH,CACQ,6BADR,CACuCD,IADvC,EAEGE,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACtBR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAA8BF,GAAG,CAACH,IAAJ,CAASM,KAAvC,EACAlB,OAAO,CAACW,IAAR,CAAa,aAAb,EACD,CAHD,IAGO,IAAII,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CAC7B,MAAKG,QAAL,CAAc,CAAEb,KAAK,CAAE,2BAAT,CAAd,EACD,CAFM,IAEA,CACL,MAAKa,QAAL,CAAc,CAAEb,KAAK,CAAE,qBAAT,CAAd,EACD,CACF,CAXH,EAYGc,KAZH,CAYS,SAACC,GAAD,CAAS,CACd,GAAIA,GAAG,CAACC,OAAJ,CAAYN,MAAZ,GAAuB,GAA3B,CAAgC,CAC9B,MAAKG,QAAL,CAAc,CAAEb,KAAK,CAAE,2BAAT,CAAd,EACD,CAFD,IAEO,IAAIe,GAAG,CAACC,OAAJ,CAAYN,MAAZ,GAAuB,GAA3B,CAAgC,CACrC,MAAKG,QAAL,CAAc,CAAEb,KAAK,CAAE,qBAAT,CAAd,EACD,CACF,CAlBH,EAmBD,CACF,C,wEACQ,iBACP,mBACE,2BACE,KAAK,CAAE,CACLiB,SAAS,CAAE,iBADN,CAELC,MAAM,CAAE,OAFH,CADT,CAKE,SAAS,CAAC,SALZ,eAOE,oBAAC,MAAD,MAPF,cAQE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLC,QAAQ,CAAE,UADL,CAELC,IAAI,CAAE,KAFD,CAGLC,GAAG,CAAE,KAHA,CAILC,KAAK,CAAE,MAJF,CAKLC,SAAS,CAAE,sBALN,CAMLC,MAAM,CAAE,iBANH,CAOLC,OAAO,CAAE,KAPJ,CAQLC,YAAY,CAAE,KART,CASLT,SAAS,CAAE,uBATN,CAULU,eAAe,CAAE,OAVZ,CADT,eAcE,oBAAC,IAAD,CAAM,KAAN,mBACE,yCADF,cAEE,6BACE,WAAW,CAAC,OADd,CAEE,QAAQ,CAAE,kBAACC,CAAD,QAAO,CAAA,MAAI,CAACf,QAAL,CAAc,CAAEf,KAAK,CAAE8B,CAAC,CAACC,MAAF,CAASC,KAAlB,CAAd,CAAP,EAFZ,EAFF,CAdF,cAqBE,oBAAC,IAAD,CAAM,KAAN,mBACE,4CADF,cAEE,6BACE,WAAW,CAAC,UADd,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAE,kBAACF,CAAD,QAAO,CAAA,MAAI,CAACf,QAAL,CAAc,CAAEd,QAAQ,CAAE6B,CAAC,CAACC,MAAF,CAASC,KAArB,CAAd,CAAP,EAHZ,EAFF,CArBF,cA8BE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,KAAK7B,KAApC,CAA2C,EAAE,CAAC,KAA9C,EACGC,YAAY,CAACC,OAAb,CAAqB,OAArB,eACC,yCADD,cAGC,wCAJJ,CA9BF,cAqCE,8BArCF,CAsCG,KAAKN,KAAL,CAAWG,KAAX,GAAqB,IAArB,cACC,4BACE,KAAK,CAAE,CACL+B,KAAK,CAAE,KADF,CADT,EAKG,KAAKlC,KAAL,CAAWG,KALd,CADD,CAQG,IA9CN,cA+CE,8BA/CF,cAgDE,6CACE,oBAAC,OAAD,EACE,KAAK,CAAE,CACLgC,cAAc,CAAE,MADX,CAELC,SAAS,CAAE,MAFN,CAGLF,KAAK,CAAE,OAHF,CADT,CAME,EAAE,CAAC,WANL,kCADF,CAhDF,CARF,CADF,CAwED,C,mBA/GiB3C,KAAK,CAAC8C,S,EAkH1B,cAAetC,CAAAA,KAAf","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button, Form } from \"semantic-ui-react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\nimport history from \"../history\";\r\nimport image1 from \"../Images/1.jpeg\";\r\nimport \"./Image.css\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: null,\r\n  };\r\n\r\n  login = () => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      localStorage.removeItem(\"token\");\r\n      history.push(\"/\");\r\n    } else {\r\n      const data = {\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n      };\r\n\r\n      axios\r\n        .post(\"http://127.0.0.1:5000/login\", data)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            localStorage.setItem(\"token\", res.data.token);\r\n            history.push(\"/attendance\");\r\n          } else if (res.status === 404) {\r\n            this.setState({ error: \"Invalid email or password\" });\r\n          } else {\r\n            this.setState({ error: \"Email doesnt exists\" });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          if (err.request.status === 404) {\r\n            this.setState({ error: \"Invalid email or password\" });\r\n          } else if (err.request.status === 400) {\r\n            this.setState({ error: \"Email doesnt exists\" });\r\n          }\r\n        });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          boxShadow: \"2px solid black\",\r\n          height: \"100vh\",\r\n        }}\r\n        className=\"BgImage\"\r\n      >\r\n        <NavBar />\r\n        <Form\r\n          style={{\r\n            position: \"absolute\",\r\n            left: \"50%\",\r\n            top: \"50%\",\r\n            width: \"60vh\",\r\n            transform: \"translate(-50%,-50%)\",\r\n            border: \"1px solid black\",\r\n            padding: \"1em\",\r\n            borderRadius: \"1em\",\r\n            boxShadow: \"2px 2px 2px 2px black\",\r\n            backgroundColor: \"white\",\r\n          }}\r\n        >\r\n          <Form.Field>\r\n            <label>Email</label>\r\n            <input\r\n              placeholder=\"Email\"\r\n              onChange={(e) => this.setState({ email: e.target.value })}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>Password</label>\r\n            <input\r\n              placeholder=\"Password\"\r\n              type=\"password\"\r\n              onChange={(e) => this.setState({ password: e.target.value })}\r\n            />\r\n          </Form.Field>\r\n\r\n          <Button type=\"submit\" onClick={this.login} id=\"Btn\">\r\n            {localStorage.getItem(\"token\") ? (\r\n              <span>Logout</span>\r\n            ) : (\r\n              <span>Login</span>\r\n            )}\r\n          </Button>\r\n          <br />\r\n          {this.state.error !== null ? (\r\n            <span\r\n              style={{\r\n                color: \"red\",\r\n              }}\r\n            >\r\n              {this.state.error}\r\n            </span>\r\n          ) : null}\r\n          <br />\r\n          <span>\r\n            <NavLink\r\n              style={{\r\n                textDecoration: \"none\",\r\n                listStyle: \"none\",\r\n                color: \"black\",\r\n              }}\r\n              to=\"/register\"\r\n            >\r\n              Dont Have An Account? Sign In\r\n            </NavLink>\r\n          </span>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}